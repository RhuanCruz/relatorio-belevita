<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Belevita - Dashboard ROI Agente IA</title>

    <!-- ApexCharts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.45.0/dist/apexcharts.min.js"></script>

    <!-- Flatpickr for date picker -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/l10n/pt.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/dashboard.css">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <h1>BELEVITA</h1>
                    <p class="subtitle">Dashboard ROI - Agente IA "Juliana"</p>
                </div>
                <div class="period-info">
                    <p id="date-range">Carregando...</p>
                </div>
            </div>
        </header>

        <!-- Key Metrics Cards -->
        <section class="metrics-cards">
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">üìä</span>
                    <span class="card-label">Total de Atendimentos</span>
                </div>
                <div class="card-value" id="total-sessions">-</div>
                <div class="card-trend" id="sessions-trend"></div>
            </div>

            <div class="card">
                <div class="card-header">
                    <span class="card-icon">üë•</span>
                    <span class="card-label">Leads √önicos</span>
                </div>
                <div class="card-value" id="unique-leads">-</div>
            </div>

            <div class="card">
                <div class="card-header">
                    <span class="card-icon">‚úÖ</span>
                    <span class="card-label">Taxa de Resolu√ß√£o</span>
                </div>
                <div class="card-value" id="resolution-rate">-</div>
                <div class="card-subtitle">sess√µes completadas</div>
            </div>

            <div class="card">
                <div class="card-header">
                    <span class="card-icon">üòä</span>
                    <span class="card-label">Sentimento Positivo</span>
                </div>
                <div class="card-value" id="positive-sentiment">-</div>
                <div class="card-subtitle">das intera√ß√µes</div>
            </div>
        </section>

        <!-- Filters -->
        <section class="filters">
            <div class="filter-group">
                <label for="date-filter">Per√≠odo:</label>
                <input type="text" id="date-filter" placeholder="Selecione o per√≠odo">
            </div>

            <div class="filter-group">
                <label for="sentiment-filter">Sentimento:</label>
                <select id="sentiment-filter">
                    <option value="all">Todos</option>
                    <option value="Positivo">Positivo</option>
                    <option value="Neutro">Neutro</option>
                    <option value="Negativo">Negativo</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="status-filter">Status:</label>
                <select id="status-filter">
                    <option value="all">Todos</option>
                    <option value="completed">Completado</option>
                    <option value="active">Ativo</option>
                    <option value="failed">Falhou</option>
                </select>
            </div>

            <button id="reset-filters" class="btn-secondary">Limpar Filtros</button>
        </section>

        <!-- Charts Row 1 -->
        <section class="charts-row">
            <div class="chart-container">
                <div class="chart-header">
                    <h3>Volume de Atendimentos</h3>
                    <p class="chart-subtitle">Quantidade por dia com m√©dia m√≥vel</p>
                </div>
                <div id="volume-chart"></div>
            </div>

            <div class="chart-container">
                <div class="chart-header">
                    <h3>Tempo de Resposta M√©dio</h3>
                    <p class="chart-subtitle">Mediana por dia</p>
                </div>
                <div id="response-time-chart"></div>
            </div>
        </section>

        <!-- Charts Row 2 -->
        <section class="charts-row">
            <div class="chart-container">
                <div class="chart-header">
                    <h3>Taxa de Resolu√ß√£o</h3>
                    <p class="chart-subtitle">Tend√™ncia semanal</p>
                </div>
                <div id="resolution-chart"></div>
            </div>

            <div class="chart-container">
                <div class="chart-header">
                    <h3>An√°lise de Sentimento</h3>
                    <p class="chart-subtitle">Distribui√ß√£o geral</p>
                </div>
                <div id="sentiment-chart"></div>
            </div>
        </section>

        <!-- Error Analysis Section -->
        <section class="error-section">
            <div class="section-header">
                <h2>üîç An√°lise de Qualidade do Atendimento</h2>
                <p>Conversas analisadas para identificar problemas e oportunidades de melhoria</p>
            </div>

            <div class="error-metrics">
                <div class="error-card high">
                    <div class="error-label">Problemas Identificados</div>
                    <div class="error-value" id="high-confidence-errors">-</div>
                    <div class="error-desc">Conversas com frustra√ß√£o clara</div>
                </div>

                <div class="error-card medium">
                    <div class="error-label">Poss√≠veis Problemas</div>
                    <div class="error-value" id="medium-confidence-errors">-</div>
                    <div class="error-desc">Conversas com dificuldades</div>
                </div>

                <div class="error-card low">
                    <div class="error-label">Taxa de Problemas</div>
                    <div class="error-value" id="error-rate">-</div>
                    <div class="error-desc">% do total analisado</div>
                </div>
            </div>

            <div class="error-chart-container">
                <div id="error-categories-chart"></div>
            </div>

            <!-- Top Error Conversations -->
            <div class="error-conversations">
                <h3>üìã Conversas que Requerem Aten√ß√£o</h3>
                <div id="error-conversations-list"></div>
            </div>
        </section>

        <!-- Inten√ß√µes dos Clientes -->
        <section class="intent-section">
            <div class="section-header">
                <h2>üéØ Principais Motivos de Contato</h2>
                <p>O que os clientes mais procuram no atendimento</p>
            </div>
            <div class="intent-metrics">
                <div class="intent-card">
                    <div class="intent-icon">üì¶</div>
                    <div class="intent-label">Rastreio</div>
                    <div class="intent-value" id="intent-rastreio">-</div>
                </div>
                <div class="intent-card">
                    <div class="intent-icon">üîÑ</div>
                    <div class="intent-label">Troca</div>
                    <div class="intent-value" id="intent-troca">-</div>
                </div>
                <div class="intent-card">
                    <div class="intent-icon">‚ùå</div>
                    <div class="intent-label">Cancelamento</div>
                    <div class="intent-value" id="intent-cancelamento">-</div>
                </div>
                <div class="intent-card">
                    <div class="intent-icon">‚ùì</div>
                    <div class="intent-label">D√∫vidas</div>
                    <div class="intent-value" id="intent-duvida">-</div>
                </div>
            </div>
        </section>

        <!-- Produtos com Problemas -->
        <section class="products-section">
            <div class="section-header">
                <h2>üëü Categorias de Produtos</h2>
                <p>Produtos mais mencionados e categorias com mais problemas reportados</p>
            </div>
            <div class="products-row">
                <div class="products-container">
                    <h3>üìä Mais Mencionados</h3>
                    <div id="products-mentioned-list"></div>
                </div>
                <div class="products-container">
                    <h3>‚ö†Ô∏è Com Mais Problemas</h3>
                    <div id="products-issues-list"></div>
                </div>
            </div>
        </section>

        <!-- Demandas N√£o Atendidas -->
        <section class="demands-section">
            <div class="section-header">
                <h2>üí° Oportunidades de Melhoria</h2>
                <p>O que clientes procuraram mas n√£o encontraram</p>
            </div>
            <div class="demands-summary">
                <div class="demands-card">
                    <div class="demands-value" id="unmet-demands-count">-</div>
                    <div class="demands-label">Situa√ß√µes onde clientes perguntaram sobre produtos ou servi√ßos n√£o
                        dispon√≠veis</div>
                </div>
            </div>
            <div class="demands-list">
                <h3>üìù Exemplos de Demandas</h3>
                <div id="unmet-demands-list"></div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>Gerado em <span id="generated-at">-</span></p>
            <p>Dashboard ROI - Belevita | Agente IA "Juliana"</p>
        </footer>
    </div>

    <!-- Conversation Modal -->
    <div id="conversation-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Detalhes da Conversa</h2>
            <div id="conversation-details"></div>
        </div>
    </div>

    <!-- Custom JavaScript -->
    <script src="assets/js/charts.js"></script>
    <script src="assets/js/dashboard.js"></script>
</body>

</html>